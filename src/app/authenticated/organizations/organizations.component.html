<h1>Organizations</h1>

<div class="container">
	
	<div class="row">
		
		<div class="col-7">
			<ul>
				<li *ngFor="let item of organizations">{{item.name}} <span *ngIf="currentUserRole == 'admin'" (click)="setEdit(item)">Edit</span> <span *ngIf="currentUserRole == 'admin'" (click)="deleteOrganization(item.id)">Delete</span></li>
			</ul>
		</div>

		<div *ngIf="currentUserRole == 'admin'" class="col-5">
			
			<form [formGroup]="theForm">
				<div class="form-group">
					<label>Organization *</label>					
					<input formControlName="name" class="form-control" type="text">
				</div>

				<button *ngIf="!isUpdate" [disabled]="theForm.invalid" type="button" (click)="doAddOrganization()" class="btn btn-primary">Add</button>                                                          
				
				<button *ngIf="isUpdate" type="button" class="btn btn-default" (click)="cancelEdit()">Cancel</button>                                                          
				<button *ngIf="isUpdate" [disabled]="theForm.invalid" type="button" (click)="updateOrganization()" class="btn btn-primary">Save</button>                                                          
			
			</form>

		</div>


	</div>
</div>


